<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge">-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validaciones</title>
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="css/sytle.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/javascript" src="js/materialize.js"></script>
  </head>
</head>

<body>
    <div id="index-banner" class="section no-pad-bot">
    <h4 class="header center white-text">Hola ingresa los siguientes datos para que se validen. Te saldrá un alert en cualquier caso.</h4>
        <br>
        <br>
    <div class="container">
        <form  id="form">
            <div>Nombre:<input type="text" placeholder="Ingresa tu nombre. Solo letras y de 4 a 255 caracteres." id="nombre" /></div>
            <p>Despacho: <input type="text" placeholder="Ingresa tu despacho. 4 letras empezando con mayuscula A o B y los demás numeros" id="despacho" /></p>
            <p>Puesto: <input type="text" placeholder="Ingresa tu puesto. En mayusculas, solo los que existen" id="Puesto" /></p>
            <p>Edad: <input type="text" placeholder="Ingresa tu edad. de 18 a 67" id="Edad" /></p>
            <p>Sueldo neto: <input type="text" placeholder="Ingresa tu sueldo total. De 1000 a 6000" id="Sueldo" /></p>
            <button type="submit" id="button" onclick="validarnombre(), validardespecho(), puesto(), validadedad(), valsueldo(), ret() "  class="btn-large waves-effect waves-light orange">Enviar</button>
            <p>Retención:
                <div id="Ret">
                </div></p>
        </form>
        </div>

    </div>
    
    

    


</body>
    <script>
        function validarnombre(evt) {
        var nombre = document.getElementById("nombre").value;
        var expreg = /^[ a-zA-ZñÑáéíóúÁÉÍÓÚ]+$/;

        if (expreg.test(nombre)) {
            if (nombre.length >= 4 && nombre.length <= 255) {
                return true
            } else {
                alert("longitud invalida");
            }
        } else {
            alert("nombre invalido, solo letras");
        }
    }
    function validardespecho(evt) {
        var despacho = document.getElementById("despacho").value;
        var expreg = /^[A-Z]+[0-9]+$/;

        if (expreg.test(despacho)) {
            if (despacho.length === 4) {
                return true
            } else {
                alert("La longitud debe ser de 4 letras");
            }

        } else {
            alert("despacho invalido, solo la primera letra pude ser A o B y los demás numeros.");
        }
    }

    function puesto() {
        var puesto = document.getElementById("Puesto").value;
        console.log(puesto);

        switch (puesto) {
            case "JEFE_AREA":
                return true;
                break;
            case "DIRECTOR_COMERCIAL":
                return true;
                break;
            case "JEFE_PROYECTO":
                return true;
                break;
            case "ANALISTA":
                return true;
                break;
            case "PROGRAMADOR":
                return true;
                break;
            default:
                alert("Ya valio madres");
        }
    }

    function validadedad(evt) {
        var edad = document.getElementById("Edad").value;
        var expreg = /^[0-9]+$/;

        if (expreg.test(edad)) {
            if (edad >= 18 && edad <= 67) {
                return true
            } else {
                alert("Edad erronea. Rando de 18 a 67");
            }

        } else {
            alert("Edad invalida. Solo numeros porfavor.");
        }
    }
    function valsueldo(evt) {
        var sueldo = document.getElementById("Sueldo").value;
        var expreg = /^[0-9]+$/;

        if (expreg.test(sueldo)) {
            if (sueldo >= 1000 && sueldo <= 6000) {
                return true
            } else {
                alert("Sueldo erroneo. Vas a cometer fraude fiscal :p");
            }

        } else {
            alert("Sueldo erroneo, unicamente de 1000 a 6000.");
        }
    }
    function ret(evt) {
        var sueldo= document.getElementById("Sueldo").value;
        var sueldo2=parseInt(sueldo);
        var puesto=document.getElementById("Puesto").value;

        alert(puesto);
        alert(sueldo2);

        if(sueldo2>=1000 && sueldo2<2000){
            sueldo2=sueldo2+sueldo2*0.08;
            alert(sueldo2);
        }else{
            if(sueldo2>=2000  && sueldo2<3000){
                sueldo2=sueldo2+sueldo2*0.095;
                alert(sueldo2);
            }else{
                if(sueldo2>=3000 && sueldo2<4000){
                    sueldo2=sueldo2+sueldo2*0.11;
                    alert(sueldo2);
                }else{
                    if(sueldo2>=4000 && sueldo<5000){
                        sueldo2=sueldo2+sueldo2*0.125;
                        alert(sueldo2);
                    }else{
                        if(sueldo2>=5000 && sueldo2<6000){
                            sueldo2=sueldo2+sueldo2*0.14;
                            alert(sueldo2);
                        }else{
                            alert("Wtf como llegaste aqui");
                        }
                    }
                }
            }
        }
        switch (puesto) {
            case "JEFE_AREA":
                sueldo2=sueldo2+sueldo2*0.035;
                break;
            case "DIRECTOR_COMERCIAL":
                sueldo2=sueldo2+sueldo2*0.03;
                break;
            case "JEFE_PROYECTO":
                sueldo2=sueldo2+sueldo2*0.025;
                break;
            case "ANALISTA":
                sueldo2=sueldo2+sueldo2*0.02;
                break;
            case "PROGRAMADOR":
                sueldo2=sueldo2+sueldo2*0.015;
                break;
            default:
                alert("Ya valio madres");
        }
        alert("La retencion es de "+sueldo2);
    }



</script>

</html>